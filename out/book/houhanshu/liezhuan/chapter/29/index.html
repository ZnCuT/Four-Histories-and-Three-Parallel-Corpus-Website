<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>后汉书 — 第29章</title>
    <link rel="icon" type="image/png" sizes="32x32" href="/static/book-icon.png">
    <link rel="stylesheet" href="/static/style.css">
  </head>
  <body>
    <!-- 导航栏（独立于主容器） -->
    <nav class="main-nav">
      <div class="nav-container">
        <div class="nav-brand">
          <a href="/">四史三平行语料库</a>
        </div>
        
        <div class="nav-books">
          
        </div>
        
        <div class="nav-search">
          <form action="/search" method="GET" class="search-form">
            <input type="text" name="q" placeholder="搜索篇目或句子..." class="search-input">
            <select name="scope" class="search-scope">
              <option value="all">全部</option>
              <option value="title">篇目</option>
              <option value="content">内容</option>
            </select>
            <button type="submit" class="search-btn">搜索</button>
          </form>
        </div>
      </div>
    </nav>

    <div class="container">
      <header>
        <h1>后汉书 — 第29章 列传 许慎传</h1>
      </header>

      <!-- 语言选择控制器 -->
      <div class="language-selector">
        <div class="selector-title">选择显示语言：</div>
        <div class="selector-options">
          <label class="lang-option">
            <input type="checkbox" id="show-wenyan" checked>
            <span class="checkmark"></span>
            文言文
          </label>
          <label class="lang-option">
            <input type="checkbox" id="show-baihua" checked>
            <span class="checkmark"></span>
            白话文
          </label>
          <label class="lang-option">
            <input type="checkbox" id="show-english" checked>
            <span class="checkmark"></span>
            英文
          </label>
        </div>
        <div class="selector-actions">
          <button id="select-all" class="selector-btn">全选</button>
          <button id="select-none" class="selector-btn">全不选</button>
        </div>
      </div>

      <main class="parallel-table">
        
          <!-- 使用表格显示语义对齐的段落组 -->
          <table class="parallel-content">
            <thead>
              <tr>
                <th class="col-wenyan" data-lang="wenyan">文言文</th>
                <th class="col-baihua" data-lang="baihua">现代汉语</th>
                <th class="col-english" data-lang="english">English</th>
              </tr>
            </thead>
            <tbody>
              
              <tr class="parallel-row">
                <td class="wenyan-cell col-wenyan" data-lang="wenyan">许慎字叔重，汝南召陵人也。</td>
                <td class="chinese-cell col-baihua" data-lang="baihua">许慎字叔重，汝南郡召陵县人。</td>
                <td class="english-cell col-english" data-lang="english">Xu Shen, style named Shuzhong, was a native of Zhaoling District in Runan Commandery.</td>
              </tr>
              
              <tr class="parallel-row">
                <td class="wenyan-cell col-wenyan" data-lang="wenyan">性淳笃，少博学经籍，马融常推敬之。</td>
                <td class="chinese-cell col-baihua" data-lang="baihua">性情淳朴笃实，年轻时广泛学习经籍，马融每每推重尊敬他。</td>
                <td class="english-cell col-english" data-lang="english">By nature, Xu Shen was honest, simple, reliable, and sincere. When he was young, he studied canonical books and classics extensively. Ma Rong admired him and showed him great respect.</td>
              </tr>
              
              <tr class="parallel-row">
                <td class="wenyan-cell col-wenyan" data-lang="wenyan">时人为之语曰：“五经无双许叔重!”</td>
                <td class="chinese-cell col-baihua" data-lang="baihua">当时人为许慎编了一句话：“《五经》无双许叔重!”</td>
                <td class="english-cell col-english" data-lang="english">People of that time created a proverb for him: "As to the Five Classics, none can compete with Xu Shuzhong."</td>
              </tr>
              
              <tr class="parallel-row">
                <td class="wenyan-cell col-wenyan" data-lang="wenyan">为郡功曹，举孝廉。</td>
                <td class="chinese-cell col-baihua" data-lang="baihua">担任郡的功曹，被保举为孝廉。</td>
                <td class="english-cell col-english" data-lang="english">He served in the Labor Section of the commandery and was recommended as a Filial and Incorrupt candidate.</td>
              </tr>
              
              <tr class="parallel-row">
                <td class="wenyan-cell col-wenyan" data-lang="wenyan">再迁，除疫长。</td>
                <td class="chinese-cell col-baihua" data-lang="baihua">升了两次职，担任疫县长。</td>
                <td class="english-cell col-english" data-lang="english">Later he was promoted twice and appointed District Magistrate of Yi County.</td>
              </tr>
              
              <tr class="parallel-row">
                <td class="wenyan-cell col-wenyan" data-lang="wenyan">卒于家。</td>
                <td class="chinese-cell col-baihua" data-lang="baihua">去世于家中。</td>
                <td class="english-cell col-english" data-lang="english">He died at home.</td>
              </tr>
              
              <tr class="parallel-row">
                <td class="wenyan-cell col-wenyan" data-lang="wenyan">初，慎以五经传说，臧否不同，于是撰为《五经异义》。</td>
                <td class="chinese-cell col-baihua" data-lang="baihua">早先时候，许慎因为《五经》的各家解释，是非不同，于是撰写了《五经异义》。</td>
                <td class="english-cell col-english" data-lang="english">In earlier years, Xu Shen realized that every school interpreted the Five Classics differently, often providing opposite views. He therefore wrote a book titled The Discrepancy of Interpretations of the Five Classics.</td>
              </tr>
              
              <tr class="parallel-row">
                <td class="wenyan-cell col-wenyan" data-lang="wenyan">又作《说文解字》十四篇，皆传于世。</td>
                <td class="chinese-cell col-baihua" data-lang="baihua">又写了《说文解字》十四篇，都流传于世。</td>
                <td class="english-cell col-english" data-lang="english">He also wrote fourteen chapters of The Explanation of Characters. Both works were widely circulated throughout the world.</td>
              </tr>
              
            </tbody>
          </table>
        
      </main>

      <nav class="chapter-nav">
        <a href="/book/houhanshu/liezhuan/chapter/28/">← 上一章</a>
        &nbsp; <a href="/book/houhanshu/liezhuan/">列传章节列表</a> &nbsp;
        <a href="/book/houhanshu/liezhuan/chapter/30/">下一章 →</a>
      </nav>

      <nav class="breadcrumb">
        <a href="/">首页</a> &gt; 
        <a href="/book/houhanshu/">后汉书</a> &gt; 
        <a href="/book/houhanshu/liezhuan/">列传</a> &gt;
        第29章 列传 许慎传
      </nav>

      <footer>
        <small>四史三平行语料库 - 中华古典文献数字化平台</small>
      </footer>
    </div>

    <script>
      // 语言选择功能
      document.addEventListener('DOMContentLoaded', function() {
        const wenyangCheckbox = document.getElementById('show-wenyan');
        const baihuaCheckbox = document.getElementById('show-baihua');
        const englishCheckbox = document.getElementById('show-english');
        const selectAllBtn = document.getElementById('select-all');
        const selectNoneBtn = document.getElementById('select-none');
        const toggleLayoutBtn = document.getElementById('toggle-layout');
        
        let isTableView = true;
        
        // 更新显示
        function updateDisplay() {
          const showWenyan = wenyangCheckbox.checked;
          const showBaihua = baihuaCheckbox.checked;
          const showEnglish = englishCheckbox.checked;
          
          // 控制表格列显示
          const wenyangCols = document.querySelectorAll('.col-wenyan');
          const baihuaCols = document.querySelectorAll('.col-baihua');
          const englishCols = document.querySelectorAll('.col-english');
          
          wenyangCols.forEach(col => {
            col.style.display = showWenyan ? '' : 'none';
          });
          
          baihuaCols.forEach(col => {
            col.style.display = showBaihua ? '' : 'none';
          });
          
          englishCols.forEach(col => {
            col.style.display = showEnglish ? '' : 'none';
          });
          
          // 控制回退布局显示
          const wenyangFallback = document.querySelector('.fallback-wenyan');
          const baihuaFallback = document.querySelector('.fallback-baihua');
          const englishFallback = document.querySelector('.fallback-english');
          
          if (wenyangFallback) wenyangFallback.style.display = showWenyan ? '' : 'none';
          if (baihuaFallback) baihuaFallback.style.display = showBaihua ? '' : 'none';
          if (englishFallback) englishFallback.style.display = showEnglish ? '' : 'none';
          
          // 调整表格列宽
          const visibleCount = [showWenyan, showBaihua, showEnglish].filter(Boolean).length;
          if (visibleCount > 0) {
            const percentage = Math.floor(100 / visibleCount) + '%';
            document.querySelectorAll('.parallel-content th, .parallel-content td').forEach(cell => {
              if (cell.style.display !== 'none') {
                cell.style.width = percentage;
              }
            });
          }
        }
        
        // 全选功能
        selectAllBtn.addEventListener('click', function() {
          wenyangCheckbox.checked = true;
          baihuaCheckbox.checked = true;
          englishCheckbox.checked = true;
          updateDisplay();
        });
        
        // 全不选功能
        selectNoneBtn.addEventListener('click', function() {
          wenyangCheckbox.checked = false;
          baihuaCheckbox.checked = false;
          englishCheckbox.checked = false;
          updateDisplay();
        });
/*
        // 切换布局功能
        toggleLayoutBtn.addEventListener('click', function() {
          const tableView = document.querySelector('.parallel-table');
          const fallbackView = document.querySelector('.parallel-fallback');
          
          if (isTableView) {
            // 切换到列布局
            if (tableView) tableView.style.display = 'none';
            if (fallbackView) fallbackView.style.display = 'grid';
            toggleLayoutBtn.textContent = '表格视图';
          } else {
            // 切换到表格布局
            if (tableView) tableView.style.display = 'block';
            if (fallbackView) fallbackView.style.display = 'none';
            toggleLayoutBtn.textContent = '列布局';
          }
          isTableView = !isTableView;
          updateDisplay();
        });
*/
        // 监听复选框变化
        wenyangCheckbox.addEventListener('change', updateDisplay);
        baihuaCheckbox.addEventListener('change', updateDisplay);
        englishCheckbox.addEventListener('change', updateDisplay);
        
        // 初始化显示
        updateDisplay();
        
        // 导航菜单功能
        const dropdowns = document.querySelectorAll('.nav-book-dropdown');
        
        dropdowns.forEach(dropdown => {
          const btn = dropdown.querySelector('.nav-book-btn');
          const content = dropdown.querySelector('.nav-dropdown-content');
          
          btn.addEventListener('click', function(e) {
            e.preventDefault();
            // 关闭其他下拉菜单
            dropdowns.forEach(other => {
              if (other !== dropdown) {
                other.querySelector('.nav-dropdown-content').style.display = 'none';
              }
            });
            // 切换当前下拉菜单
            content.style.display = content.style.display === 'block' ? 'none' : 'block';
          });
        });
        
        // 点击其他地方关闭下拉菜单
        document.addEventListener('click', function(e) {
          if (!e.target.closest('.nav-book-dropdown')) {
            dropdowns.forEach(dropdown => {
              dropdown.querySelector('.nav-dropdown-content').style.display = 'none';
            });
          }
        });
      });
    </script>
  </body>
</html>